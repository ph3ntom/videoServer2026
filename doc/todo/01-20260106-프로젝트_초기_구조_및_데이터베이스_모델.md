# 01 - 2026-01-06 - í”„ë¡œì íŠ¸ ì´ˆê¸° êµ¬ì¡° ë° ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ êµ¬í˜„

## ì‘ì—… ê°œìš”

StreamFlix í”„ë¡œì íŠ¸ì˜ ì´ˆê¸° êµ¬ì¡° ìƒì„± ë° ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ êµ¬í˜„ ì™„ë£Œ

## ì‘ì—… ì¼ì

2026ë…„ 1ì›” 6ì¼

## ì™„ë£Œëœ ì‘ì—…

### 1. í”„ë¡œì íŠ¸ ì´ˆê¸° êµ¬ì¡° ìƒì„±

#### 1.1 ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
videos_web_server/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/v1/
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”‚   â””â”€â”€ database.py
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ video.py
â”‚   â”‚   â”‚   â”œâ”€â”€ tag.py
â”‚   â”‚   â”‚   â”œâ”€â”€ video_thumbnail.py
â”‚   â”‚   â”‚   â”œâ”€â”€ category.py
â”‚   â”‚   â”‚   â””â”€â”€ associations.py
â”‚   â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ alembic/
â”‚   â”‚   â”œâ”€â”€ versions/
â”‚   â”‚   â”œâ”€â”€ env.py
â”‚   â”‚   â””â”€â”€ script.py.mako
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ requirements.minimal.txt
â”‚   â”œâ”€â”€ .env
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .gitignore
â”‚   â””â”€â”€ alembic.ini
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ video/
â”‚   â”‚   â”‚   â”œâ”€â”€ search/
â”‚   â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ main.tsx
â”‚   â”‚   â””â”€â”€ index.css
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ postcss.config.js
â”‚   â”œâ”€â”€ .env
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ .gitignore
â”œâ”€â”€ doc/
â”‚   â””â”€â”€ todo/
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

#### 1.2 ì„¤ì • íŒŒì¼
- **backend/.env**: ë°±ì—”ë“œ í™˜ê²½ë³€ìˆ˜ (ë°ì´í„°ë² ì´ìŠ¤, FFmpeg ê²½ë¡œ ë“±)
- **frontend/.env**: í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ë³€ìˆ˜ (API URL ë“±)
- **README.md**: í¬ë¡œìŠ¤ í”Œë«í¼ ì„¤ì¹˜ ê°€ì´ë“œ

### 2. ê°œë°œ í™˜ê²½ ì„¤ì •

#### 2.1 PostgreSQL ì„¤ì •
- **ì„œë¹„ìŠ¤ ì‹œì‘**: `brew services start postgresql@14`
- **ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±**: `streamflix`
- **ì‚¬ìš©ì ìƒì„±**: `streamflix` (ë¹„ë°€ë²ˆí˜¸: `streamflix2024!`)
- **ê¶Œí•œ ë¶€ì—¬**: ëª¨ë“  ê¶Œí•œ ë¶€ì—¬

**DBMS ì ‘ì† ì •ë³´:**
```
Database: streamflix
User: streamflix
Password: streamflix2024!
Host: localhost
Port: 5432
ì—°ê²° ë¬¸ìì—´: postgresql+asyncpg://streamflix:streamflix2024!@localhost:5432/streamflix
```

#### 2.2 FFmpeg ì„¤ì¹˜
- **ì„¤ì¹˜**: `brew install ffmpeg`
- **ê²½ë¡œ**:
  - ffmpeg: `/opt/homebrew/bin/ffmpeg`
  - ffprobe: `/opt/homebrew/bin/ffprobe`
- **ë²„ì „**: FFmpeg 8.0.1

#### 2.3 ë°±ì—”ë“œ ì„¤ì •
- **Python ë²„ì „**: 3.12 (ê°€ìƒí™˜ê²½)
- **ì˜ì¡´ì„± ì„¤ì¹˜**:
  ```
  fastapi==0.104.1
  uvicorn[standard]==0.24.0
  python-dotenv==1.0.0
  pydantic==2.5.3
  pydantic-settings==2.1.0
  sqlalchemy==2.0.23
  alembic==1.12.1
  asyncpg==0.29.0
  greenlet==3.3.0
  ```

#### 2.4 í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •
- **Node.js**: v18
- **ì£¼ìš” ì˜ì¡´ì„±**:
  ```
  react@18.2.0
  react-router-dom@6.20.0
  zustand@4.4.7
  axios@1.6.2
  video.js@8.6.1
  vite@5.0.8
  tailwindcss@3.3.6
  ```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ êµ¬í˜„

#### 3.1 User ëª¨ë¸ (ì‚¬ìš©ì)
**íŒŒì¼**: `backend/app/models/user.py`

**ì—­í•  (UserRole Enum)**:
- `USER`: ì¼ë°˜ ì‚¬ìš©ì
- `ADMIN`: ê´€ë¦¬ì (ë¹„ë””ì˜¤ ì—…ë¡œë“œ ê¶Œí•œ)
- `PREMIUM`: í”„ë¦¬ë¯¸ì—„ ì‚¬ìš©ì

**í•„ë“œ**:
- `id`: Primary Key
- `email`: ì´ë©”ì¼ (unique, indexed)
- `username`: ì‚¬ìš©ìëª… (unique, indexed)
- `hashed_password`: í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸
- `full_name`: ì „ì²´ ì´ë¦„ (nullable)
- `role`: ì‚¬ìš©ì ì—­í•  (default: USER)
- `is_active`: í™œì„±í™” ìƒíƒœ (default: true)
- `is_verified`: ì´ë©”ì¼ ì¸ì¦ ìƒíƒœ (default: false)
- `created_at`: ìƒì„± ì‹œê°„
- `updated_at`: ìˆ˜ì • ì‹œê°„
- `last_login`: ë§ˆì§€ë§‰ ë¡œê·¸ì¸ ì‹œê°„ (nullable)

**ê´€ê³„**:
- `videos`: ì—…ë¡œë“œí•œ ë¹„ë””ì˜¤ ëª©ë¡ (one-to-many)

**í—¬í¼ ë©”ì„œë“œ**:
- `is_admin`: ê´€ë¦¬ì ê¶Œí•œ í™•ì¸
- `is_premium`: í”„ë¦¬ë¯¸ì—„ ê¶Œí•œ í™•ì¸

#### 3.2 Video ëª¨ë¸ (ë¹„ë””ì˜¤)
**íŒŒì¼**: `backend/app/models/video.py`

**ìƒíƒœ (VideoStatus Enum)**:
- `PROCESSING`: ì—…ë¡œë“œ ë˜ëŠ” ì¸ë„¤ì¼ ìƒì„± ì¤‘
- `READY`: ìŠ¤íŠ¸ë¦¬ë° ì¤€ë¹„ ì™„ë£Œ
- `FAILED`: ì²˜ë¦¬ ì‹¤íŒ¨
- `DELETED`: ì†Œí”„íŠ¸ ì‚­ì œë¨

**í•„ë“œ**:
- `id`: Primary Key
- `user_id`: ì—…ë¡œë” ID (Foreign Key â†’ users.id, CASCADE)
- `title`: ì œëª© (indexed)
- `description`: ì„¤ëª… (nullable)
- `file_path`: ë¹„ë””ì˜¤ íŒŒì¼ ê²½ë¡œ
- `file_size`: íŒŒì¼ í¬ê¸° (bytes)
- `duration`: ì¬ìƒ ì‹œê°„ (ì´ˆ)
- `width`: í•´ìƒë„ ë„ˆë¹„ (px)
- `height`: í•´ìƒë„ ë†’ì´ (px)
- `fps`: í”„ë ˆì„ë ˆì´íŠ¸
- `codec`: ë¹„ë””ì˜¤ ì½”ë±
- `bitrate`: ë¹„íŠ¸ë ˆì´íŠ¸ (kbps)
- `status`: ì²˜ë¦¬ ìƒíƒœ (indexed)
- `view_count`: ì¡°íšŒìˆ˜ (default: 0)
- `created_at`: ìƒì„± ì‹œê°„ (indexed)
- `updated_at`: ìˆ˜ì • ì‹œê°„
- `published_at`: ê³µê°œ ì‹œê°„ (nullable)
- `category_id`: ì¹´í…Œê³ ë¦¬ ID (Foreign Key â†’ categories.id, SET NULL)

**ê´€ê³„**:
- `uploader`: ì—…ë¡œë” (User)
- `thumbnails`: ì¸ë„¤ì¼ ëª©ë¡ (one-to-many)
- `tags`: íƒœê·¸ ëª©ë¡ (many-to-many)
- `category`: ì¹´í…Œê³ ë¦¬ (many-to-one)

**í—¬í¼ ë©”ì„œë“œ**:
- `is_ready`: ìŠ¤íŠ¸ë¦¬ë° ì¤€ë¹„ ìƒíƒœ í™•ì¸
- `is_processing`: ì²˜ë¦¬ ì¤‘ ìƒíƒœ í™•ì¸

#### 3.3 Tag ëª¨ë¸ (íƒœê·¸)
**íŒŒì¼**: `backend/app/models/tag.py`

**í•„ë“œ**:
- `id`: Primary Key
- `name`: íƒœê·¸ ì´ë¦„ (unique, indexed)
- `slug`: URL ì¹œí™”ì  ì‹ë³„ì (unique, indexed)
- `description`: íƒœê·¸ ì„¤ëª… (nullable)
- `color`: UI í‘œì‹œ ìƒ‰ìƒ (hex, default: #3B82F6)
- `created_at`: ìƒì„± ì‹œê°„
- `updated_at`: ìˆ˜ì • ì‹œê°„

**ê´€ê³„**:
- `videos`: ì´ íƒœê·¸ê°€ ë‹¬ë¦° ë¹„ë””ì˜¤ ëª©ë¡ (many-to-many)

**í—¬í¼ ë©”ì„œë“œ**:
- `video_count`: ì´ íƒœê·¸ê°€ ë‹¬ë¦° ë¹„ë””ì˜¤ ìˆ˜

#### 3.4 VideoThumbnail ëª¨ë¸ (ë¹„ë””ì˜¤ ì¸ë„¤ì¼)
**íŒŒì¼**: `backend/app/models/video_thumbnail.py`

**í•„ë“œ**:
- `id`: Primary Key
- `video_id`: ë¹„ë””ì˜¤ ID (Foreign Key â†’ videos.id, CASCADE, indexed)
- `file_path`: ì¸ë„¤ì¼ ì´ë¯¸ì§€ ê²½ë¡œ
- `timestamp`: ë¹„ë””ì˜¤ì—ì„œì˜ ì‹œê°„ (ì´ˆ)
- `sequence`: ì¸ë„¤ì¼ ìˆœì„œ (0-based)
- `width`: ì´ë¯¸ì§€ ë„ˆë¹„ (default: 320px)
- `height`: ì´ë¯¸ì§€ ë†’ì´ (default: 180px)
- `file_size`: íŒŒì¼ í¬ê¸° (bytes)
- `created_at`: ìƒì„± ì‹œê°„

**ê´€ê³„**:
- `video`: ë¶€ëª¨ ë¹„ë””ì˜¤ (many-to-one)

**í—¬í¼ ë©”ì„œë“œ**:
- `url`: ì¸ë„¤ì¼ URL ìƒì„± (property)

**íŠ¹ì§•**:
- FFmpeg scene detectionìœ¼ë¡œ ìë™ ìƒì„±
- ë¹„ë””ì˜¤ë‹¹ ìµœëŒ€ 15ê°œ ì¸ë„¤ì¼
- 1ì´ˆ ê°„ê²©ìœ¼ë¡œ í˜¸ë²„ í”„ë¦¬ë·°ì— ì‚¬ìš©

#### 3.5 Category ëª¨ë¸ (ì¹´í…Œê³ ë¦¬)
**íŒŒì¼**: `backend/app/models/category.py`

**í•„ë“œ**:
- `id`: Primary Key
- `name`: ì¹´í…Œê³ ë¦¬ ì´ë¦„ (unique, indexed)
- `slug`: URL ì¹œí™”ì  ì‹ë³„ì (unique, indexed)
- `description`: ì¹´í…Œê³ ë¦¬ ì„¤ëª… (nullable)
- `icon`: UI í‘œì‹œ ì•„ì´ì½˜ (emoji, default: ğŸ“)
- `created_at`: ìƒì„± ì‹œê°„
- `updated_at`: ìˆ˜ì • ì‹œê°„

**ê´€ê³„**:
- `videos`: ì´ ì¹´í…Œê³ ë¦¬ì˜ ë¹„ë””ì˜¤ ëª©ë¡ (one-to-many)

**í—¬í¼ ë©”ì„œë“œ**:
- `video_count`: ì´ ì¹´í…Œê³ ë¦¬ì˜ ë¹„ë””ì˜¤ ìˆ˜

#### 3.6 video_tags ì—°ê´€ í…Œì´ë¸”
**íŒŒì¼**: `backend/app/models/associations.py`

**í•„ë“œ**:
- `video_id`: ë¹„ë””ì˜¤ ID (Foreign Key â†’ videos.id, CASCADE, Primary Key)
- `tag_id`: íƒœê·¸ ID (Foreign Key â†’ tags.id, CASCADE, Primary Key)
- `created_at`: ì—°ê²° ìƒì„± ì‹œê°„

**íŠ¹ì§•**:
- Videoì™€ Tagì˜ many-to-many ê´€ê³„ êµ¬í˜„
- Composite Primary Key (video_id, tag_id)

### 4. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

#### 4.1 Alembic ì„¤ì •
- **alembic.ini**: ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì • íŒŒì¼
- **alembic/env.py**: ë¹„ë™ê¸° ë§ˆì´ê·¸ë ˆì´ì…˜ ì§€ì›
- **alembic/script.py.mako**: ë§ˆì´ê·¸ë ˆì´ì…˜ í…œí”Œë¦¿

#### 4.2 ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
**ëª…ë ¹ì–´**:
```bash
alembic revision --autogenerate -m "Initial migration with all models"
```

**ìƒì„±ëœ íŒŒì¼**:
```
alembic/versions/20260106_1108_9c233d73b605_initial_migration_with_all_models.py
```

**ìƒì„±ëœ í…Œì´ë¸”**:
1. `users` - ì‚¬ìš©ì ì •ë³´
2. `videos` - ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„°
3. `tags` - íƒœê·¸ ì •ë³´
4. `categories` - ì¹´í…Œê³ ë¦¬ ì •ë³´
5. `video_thumbnails` - ë¹„ë””ì˜¤ ì¸ë„¤ì¼
6. `video_tags` - ë¹„ë””ì˜¤-íƒœê·¸ ì—°ê´€ í…Œì´ë¸”
7. `alembic_version` - ë§ˆì´ê·¸ë ˆì´ì…˜ ë²„ì „ ê´€ë¦¬

#### 4.3 ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
**ëª…ë ¹ì–´**:
```bash
alembic upgrade head
```

**ê²°ê³¼**: ëª¨ë“  í…Œì´ë¸”ì´ streamflix ë°ì´í„°ë² ì´ìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë¨

### 5. ì„œë¹„ìŠ¤ ì‹¤í–‰ í…ŒìŠ¤íŠ¸

#### 5.1 ë°±ì—”ë“œ ì„œë²„
- **URL**: http://localhost:8000
- **API ë¬¸ì„œ**: http://localhost:8000/docs
- **ìƒíƒœ**: âœ… ì •ìƒ ì‹¤í–‰
- **ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸**:
  - `GET /`: `{"name":"StreamFlix","version":"0.1.0","status":"running"}`
  - `GET /health`: `{"status":"healthy"}`

#### 5.2 í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„
- **Local URL**: http://localhost:5173
- **Network URL**: http://10.125.240.106:5173
- **ìƒíƒœ**: âœ… ì •ìƒ ì‹¤í–‰
- **í˜ì´ì§€**: StreamFlix ë©”ì¸ í˜ì´ì§€ í‘œì‹œ

## ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Framework**: FastAPI 0.104.1
- **Database**: PostgreSQL 14 + asyncpg
- **ORM**: SQLAlchemy 2.0.23 (async)
- **Migration**: Alembic 1.12.1
- **Validation**: Pydantic 2.5.3
- **Server**: Uvicorn 0.24.0

### Frontend
- **Framework**: React 18.2.0
- **Language**: TypeScript
- **Build Tool**: Vite 5.0.8
- **Routing**: React Router DOM 6.20.0
- **State**: Zustand 4.4.7
- **Styling**: Tailwind CSS 3.3.6
- **HTTP Client**: Axios 1.6.2
- **Video Player**: Video.js 8.6.1

### Infrastructure
- **Database**: PostgreSQL 14
- **Video Processing**: FFmpeg 8.0.1
- **OS**: macOS (Development)
- **Package Manager**:
  - Backend: pip (Python 3.12)
  - Frontend: npm (Node.js 18)

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     users       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ email (UQ)      â”‚
â”‚ username (UQ)   â”‚
â”‚ hashed_password â”‚
â”‚ role (enum)     â”‚
â”‚ is_active       â”‚
â”‚ is_verified     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1
         â”‚
         â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       videos             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                  â”‚
â”‚ user_id (FK)             â”‚â—„â”€â”€â”€â”€â”€â”
â”‚ category_id (FK)         â”‚      â”‚
â”‚ title (indexed)          â”‚      â”‚
â”‚ status (indexed)         â”‚      â”‚
â”‚ file_path                â”‚      â”‚
â”‚ duration                 â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
       â”‚ 1                        â”‚
       â”‚                          â”‚
       â”‚ N                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  video_thumbnails    â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚ id (PK)              â”‚          â”‚
â”‚ video_id (FK)        â”‚          â”‚
â”‚ file_path            â”‚          â”‚
â”‚ timestamp            â”‚          â”‚
â”‚ sequence             â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                                  â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ N
       â”‚
       â”‚ M
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   video_tags    â”‚â—„â”€â”€â”€â”¤    tags     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ video_id (PK,FK)â”‚    â”‚ id (PK)     â”‚
â”‚ tag_id (PK,FK)  â”‚    â”‚ name (UQ)   â”‚
â”‚ created_at      â”‚    â”‚ slug (UQ)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ color       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  categories    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)        â”‚
â”‚ name (UQ)      â”‚
â”‚ slug (UQ)      â”‚
â”‚ icon           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ë‹¤ìŒ ë‹¨ê³„ (TODO)

### ìš°ì„ ìˆœìœ„ 1: ì¸ì¦ ì‹œìŠ¤í…œ
- [ ] Pydantic ìŠ¤í‚¤ë§ˆ ìƒì„± (UserCreate, UserLogin, Token)
- [ ] ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ìœ í‹¸ë¦¬í‹° (bcrypt)
- [ ] JWT í† í° ìƒì„±/ê²€ì¦
- [ ] íšŒì›ê°€ì… API
- [ ] ë¡œê·¸ì¸ API
- [ ] í˜„ì¬ ì‚¬ìš©ì ì¡°íšŒ API
- [ ] Admin ê¶Œí•œ í™•ì¸ ë¯¸ë“¤ì›¨ì–´

### ìš°ì„ ìˆœìœ„ 2: ë¹„ë””ì˜¤ ê´€ë¦¬
- [ ] Pydantic ìŠ¤í‚¤ë§ˆ (VideoCreate, VideoUpdate, VideoResponse)
- [ ] FFmpeg ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
- [ ] FFmpeg Scene Detection ì¸ë„¤ì¼ ìƒì„±
- [ ] Admin ë¹„ë””ì˜¤ ì—…ë¡œë“œ API
- [ ] ë¹„ë””ì˜¤ ëª©ë¡ ì¡°íšŒ API (í˜ì´ì§€ë„¤ì´ì…˜)
- [ ] ë¹„ë””ì˜¤ ìƒì„¸ ì¡°íšŒ API
- [ ] ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° API (HTTP Range Requests)

### ìš°ì„ ìˆœìœ„ 3: ê²€ìƒ‰ ê¸°ëŠ¥
- [ ] ì œëª© ê²€ìƒ‰ (PostgreSQL Full-Text Search)
- [ ] íƒœê·¸ ì¡°í•© ê²€ìƒ‰ (include/exclude)
- [ ] ê²€ìƒ‰ API ì—”ë“œí¬ì¸íŠ¸
- [ ] í˜ì´ì§€ë„¤ì´ì…˜ ë° ì •ë ¬

### ìš°ì„ ìˆœìœ„ 4: í”„ë¡ íŠ¸ì—”ë“œ UI
- [ ] ì¸ì¦ í˜ì´ì§€ (ë¡œê·¸ì¸/íšŒì›ê°€ì…)
- [ ] VideoCard ì»´í¬ë„ŒíŠ¸ (ì¸ë„¤ì¼ í˜¸ë²„ í”„ë¦¬ë·°)
- [ ] TagFilter ì»´í¬ë„ŒíŠ¸ (include/exclude ì²´í¬ë°•ìŠ¤)
- [ ] ë¹„ë””ì˜¤ ëª©ë¡ í˜ì´ì§€
- [ ] ë¹„ë””ì˜¤ ìƒì„¸ í˜ì´ì§€
- [ ] Admin ì—…ë¡œë“œ í˜ì´ì§€

## ì°¸ê³  ëª…ë ¹ì–´

### ë°ì´í„°ë² ì´ìŠ¤
```bash
# PostgreSQL ì„œë¹„ìŠ¤ ì‹œì‘
brew services start postgresql@14

# ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì†
psql -d streamflix -U streamflix

# í…Œì´ë¸” ëª©ë¡
psql -d streamflix -U streamflix -c "\dt"

# í…Œì´ë¸” êµ¬ì¡° í™•ì¸
psql -d streamflix -U streamflix -c "\d users"
```

### Alembic ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
cd backend && source venv/bin/activate

# ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
alembic revision --autogenerate -m "migration message"

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
alembic upgrade head

# ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡¤ë°±
alembic downgrade -1

# í˜„ì¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ
alembic current

# ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬
alembic history
```

### ì„œë²„ ì‹¤í–‰
```bash
# ë°±ì—”ë“œ
cd backend && source venv/bin/activate
python -m app.main
# ë˜ëŠ”
uvicorn app.main:app --reload

# í”„ë¡ íŠ¸ì—”ë“œ
cd frontend
npm run dev
```

## íŒŒì¼ ìœ„ì¹˜ ìš”ì•½

### ì„¤ì • íŒŒì¼
- `backend/.env`: ë°±ì—”ë“œ í™˜ê²½ë³€ìˆ˜
- `backend/alembic.ini`: Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì •
- `frontend/.env`: í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ë³€ìˆ˜

### ëª¨ë¸ íŒŒì¼
- `backend/app/models/user.py`: User ëª¨ë¸
- `backend/app/models/video.py`: Video ëª¨ë¸
- `backend/app/models/tag.py`: Tag ëª¨ë¸
- `backend/app/models/video_thumbnail.py`: VideoThumbnail ëª¨ë¸
- `backend/app/models/category.py`: Category ëª¨ë¸
- `backend/app/models/associations.py`: ì—°ê´€ í…Œì´ë¸”

### í•µì‹¬ ì„¤ì •
- `backend/app/core/config.py`: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
- `backend/app/core/database.py`: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°

### ë§ˆì´ê·¸ë ˆì´ì…˜
- `backend/alembic/env.py`: Alembic í™˜ê²½ ì„¤ì •
- `backend/alembic/versions/20260106_1108_9c233d73b605_initial_migration_with_all_models.py`: ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜

## ì´ìŠˆ ë° í•´ê²°

### ì´ìŠˆ 1: Python 3.14 íŒ¨í‚¤ì§€ í˜¸í™˜ì„±
**ë¬¸ì œ**: pydantic-coreê°€ Python 3.14ì—ì„œ ë¹Œë“œ ì‹¤íŒ¨
**í•´ê²°**: Python 3.12ë¡œ ê°€ìƒí™˜ê²½ ì¬ìƒì„±

### ì´ìŠˆ 2: psycopg2-binary ì„¤ì¹˜ ì‹¤íŒ¨
**ë¬¸ì œ**: macOSì—ì„œ pg_config ì°¾ì„ ìˆ˜ ì—†ìŒ
**í•´ê²°**: asyncpgë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ psycopg2-binary ì œê±°

### ì´ìŠˆ 3: greenlet ë¼ì´ë¸ŒëŸ¬ë¦¬ ëˆ„ë½
**ë¬¸ì œ**: SQLAlchemy async ì‚¬ìš© ì‹œ greenlet í•„ìš”
**í•´ê²°**: `pip install greenlet` ì„¤ì¹˜

## ì‘ì—… ì‹œê°„

- í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±: ~30ë¶„
- í™˜ê²½ ì„¤ì • (PostgreSQL, FFmpeg): ~20ë¶„
- ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë¬¸ì œ í•´ê²°: ~30ë¶„
- ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ êµ¬í˜„: ~40ë¶„
- Alembic ì„¤ì • ë° ë§ˆì´ê·¸ë ˆì´ì…˜: ~20ë¶„
- í…ŒìŠ¤íŠ¸ ë° ê²€ì¦: ~10ë¶„

**ì´ ì‘ì—… ì‹œê°„**: ì•½ 2ì‹œê°„ 30ë¶„

## ì™„ë£Œ ìƒíƒœ

âœ… í”„ë¡œì íŠ¸ ì´ˆê¸° êµ¬ì¡° ìƒì„±
âœ… ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ì„¤ì •
âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
âœ… FFmpeg ì„¤ì¹˜
âœ… ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ 5ê°œ êµ¬í˜„
âœ… Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì •
âœ… ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° ì ìš©
âœ… ì„œë¹„ìŠ¤ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ (ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ)
âœ… í¬ë¡œìŠ¤ í”Œë«í¼ README ì‘ì„±

---

**ì‘ì„±ì**: Claude Sonnet 4.5
**ì‘ì„±ì¼**: 2026-01-06
**í”„ë¡œì íŠ¸**: StreamFlix - ë¼ì¦ˆë² ë¦¬íŒŒì´ ê¸°ë°˜ ê²½ëŸ‰ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼
